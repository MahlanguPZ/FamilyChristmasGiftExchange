<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Gift Exchange</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f7f7f7;
            text-align: center;
            padding: 20px;
        }
        h1 {
            color: #d13438;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            border: 2px dashed #d13438;
            background-color: #fff;
        }
        .success {
            color: green;
        }
        .warning {
            color: orange;
        }
        #summary {
            margin-top: 20px;
            padding: 15px;
            border: 2px solid #4CAF50;
            background-color: #fff;
        }
        ul {
            text-align: left;
            margin: 10px auto;
            max-width: 300px;
            padding: 0;
        }
        li {
            list-style: none;
            padding: 5px;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>üéÑ Christmas Gift Exchange üéÑ</h1>
    <p>Pick your name from the list to find out who you're buying a gift for!</p>
    <select id="nameSelector">
        <option value="" disabled selected>Choose your name</option>
        <option value="Mamkhul'Suzie">Mamkhul'Suzie</option>
        <option value="Babomkhulu">Babomkhulu</option>
        <option value="Mamkhul'Pinkie">Mamkhul'Pinkie</option>
        <option value="FJ">FJ</option>
        <option value="OZ">OZ</option>
        <option value="Siphiwe">Siphiwe</option>
        <option value="Siyathokoza">Siyathokoza</option>
        <option value="Phethile">Phethile</option>
        <option value="Musa">Musa</option>
        <option value="Elihle">Elihle</option>
        <option value="Nontando">Nontando</option>
        <option value="Uminathi">Uminathi</option>
    </select>
    <button onclick="assignGift()">Get Your Person!</button>
    <div id="result"></div>
    
    <div id="summary">
        <h3>üéÅ Gift Exchange Summary üéÅ</h3>
        <ul id="summaryList">
            <!-- Assignments will appear here -->
        </ul>
    </div>
    
    <script>
        const names = [
            "Mamkhul'Suzie",
            "Babomkhulu",
            "Mamkhul'Pinkie",
            "FJ",
            "OZ",
            "Siphiwe",
            "Siyathokoza",
            "Phethile",
            "Musa",
            "Elihle",
            "Nontando",
            "Uminathi"
        ];
        const assignedPairs = {}; // Tracks who has been assigned to whom
        const assignedTo = new Set(); // Tracks names that have already been chosen

        function assignGift() {
            const userName = document.getElementById("nameSelector").value;

            if (!userName) {
                document.getElementById("result").innerHTML = "<p class='warning'>Please select your name first!</p>";
                return;
            }

            if (assignedPairs[userName]) {
                document.getElementById("result").innerHTML = `<p class="warning">${userName}, you've already received your assignment: ${assignedPairs[userName]}. No peeking again! üéÖ</p>`;
                return;
            }

            const unassignedNames = names.filter(name => !assignedTo.has(name) && name !== userName);

            if (unassignedNames.length === 0) {
                document.getElementById("result").innerHTML = "<p class='warning'>All names have been assigned. üéÅ</p>";
                return;
            }

            const randomIndex = Math.floor(Math.random() * unassignedNames.length);
            const selected = unassignedNames[randomIndex];

            // Save the pair
            assignedPairs[userName] = selected;
            assignedTo.add(selected);

            // Display individual result
            document.getElementById("result").innerHTML = `<p class="success">${userName}, you're buying a gift for ${selected}! üéÑ</p>`;

            // Update the summary list
            updateSummary(userName, selected);
        }

        function updateSummary(userName, selected) {
            const summaryList = document.getElementById("summaryList");
            const listItem = document.createElement("li");
            listItem.textContent = `${userName} is buying a gift for ${selected}`;
            summaryList.appendChild(listItem);
        }
    </script>
</body>
</html>
